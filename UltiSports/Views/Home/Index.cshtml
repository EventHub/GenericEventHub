@using UltiSports.Models
@model IEnumerable<UltiSports.Models.Event>

@{
    ViewBag.Title = "Index";
    var selectedEventId = new Event();
    var selectedTabClass = "tab-selected";
    if (Model.Any())
    {
        selectedEventId = Model.First();
    }

    var allEvents = new List<Event>();

    foreach (var ev in Model)
    {
        allEvents.Add(ev);
    }

    var t = 0;
}

@if (Model.Any())
{
    foreach (var evento in allEvents)
    {
        <div class="event + @selectedEventId" >
            <div class="page-header-sport">
                @if (!String.IsNullOrEmpty(ViewBag.Message))
                {
                    <div class="page-header-sport">
                        <div class="row" style="margin-bottom: -40px;">
                            <div class="alert alert-warning">
                                <p>
                                    <strong>System Says:</strong>
                                    @ViewBag.Message
                                </p>
                            </div>
                        </div>
                    </div>
                }
                <h5 class="pull-left">Today's Sports</h5>
                <span class="date pull-right">@DateTime.Today.ToString("dddd, MMMM dd yyyy")</span>
                <div class="clear"></div>
                <div class="tab-container">
                    @foreach (Event ev in Model)
                    {
                        <div class="tab @if (ev.Id == Model.ToList()[0].Id)
                                    {
                                        @selectedTabClass
                                    }" id="event-@ev.Id-tab">
                            <h2>@Html.ActionLink(@ev.Activity.Name, "Index", "Home", new { Message = "", eventId = ev.Id }, null)</h2>
                        </div>
                    }
                    <div class="clear"></div>
                </div>
            </div>

            <div class="event-container row id=event-@evento.Id-container">
                <div class="col-md-5">
                    @Html.Partial("_Participants", evento)
                    <div>
                        @Html.Partial("_Wheather", evento)
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="nested-row-breaker">
                        @Html.Partial("_EventInformation", evento)
                        @Html.Partial("_Comments", evento)
                    </div>
                </div>
            </div>
        </div>
    }
    @*<div class="page-header-sport">
            @if (!String.IsNullOrEmpty(ViewBag.Message))
            {
                <div class="page-header-sport">
                    <div class="row" style="margin-bottom: -40px;">
                        <div class="alert alert-warning">
                            <p>
                                <strong>System Says:</strong>
                                @ViewBag.Message
                            </p>
                        </div>
                    </div>
                </div>
            }
            <h5 class="pull-left">Today's Sports</h5>
            <span class="date pull-right">@DateTime.Today.ToString("dddd, MMMM dd yyyy")</span>
            <div class="clear"></div>
            <div class="tab-container">
                @foreach (Event ev in Model)
                {
                    <div class="tab @if (ev.Id == Model.ToList()[0].Id)
                                    {
                                        @selectedTabClass
                                    }" id="event-@ev.Id-tab">
                        <h2>@Html.DisplayFor(modelItem => ev.Activity.Name)</h2>
                    </div>
                }
                <div class="clear"></div>
            </div>
        </div>*@
    @*foreach (Event ev in Model)
                {
        <div class="event-container row @if (ev.Id != Model.ToList()[0].Id)
                                        {
                                                @hideClass;
                                        }" id="event-@ev.Id-container">
            <div class="col-md-5">
                @Html.Partial("_Participants", ev)
                <div>
                    @Html.Partial("_Wheather", ev)
                </div>
            </div>
            <div class="col-md-7">
                <div class="nested-row-breaker">
                    @Html.Partial("_EventInformation", ev)
                    @Html.Partial("_Comments", ev)
                </div>
            </div>
        </div>
                }*@
}
else
{
    <h1 style="padding: 20px;">There are no activities today, have a great day!</h1>
}


<script src="~/Scripts/jquery-2.1.0.js"></script>
<script>
    //var elements = new Array();
    //elements = document.getElementsByClassName("event");
    //elements[0].className = "show";
    //$(".event").attr("class", "hide");
</script>